<%= render "shared/navbar" %>
  <div data-controller="weather">
<h1 class="title my-5">Plants in your garden</h1>

<div class="container garden-container mb-5">
<% @tags.each do |tag| %>
  <% plant_id = tag.plant_id %>
  <% plant = Plant.find(plant_id) %>
  <% @condition = Condition.where(plant_id: plant) %>


  <div class="garden-card" onclick="this.classList.toggle('expanded')">
    <p><%= plant.name %></p>
    <!-- visible content -->
    <%= cl_image_tag plant.photo.key, height:150, class:"label" %>
    <!-- hidden content -->
    <div class="text1">
      <div class="garden-text-content">
        <h3 class="garden-title">Daily</h3>
        <div class="body-text">
          <div>
            <p><i class="fa-solid fa-cloud-sun fa-2x"></i></p>
            <p><strong><%= @condition.first.sun %></strong></p>
          </div>
          <div>
            <p><i class="fa-solid fa-droplet fa-2x"></i></p>
            <p><strong><%= @condition.first.water %></strong></p>
          </div>
          <div>
            <p><i class="fa-solid fa-temperature-high fa-2x"></i></p>
            <p><strong><%= @condition.first.climate %></strong></p>
          </div>
        </div>
      </div>
    </div>

    <!-- bottom icon -->
    <svg class="chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 35" width="30"><path d="M5 30L50 5l45 25" fill="none" stroke="#000" stroke-width="5"/></svg>
  </div>
<% end %>

</div>

<%= render "shared/footer" %>
